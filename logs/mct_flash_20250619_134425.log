Running load_mct.py
Installing required packages...
=== Install esptool ===
Command: pip install "git+https://github.com/espressif/esptool.git@a32988e2d5f02845ce16e22022f5b64368f12572#egg=esptool"
Output:
Collecting esptool
  Using cached esptool-4.8.1-py3-none-any.whl
Requirement already satisfied: bitstring!=4.2.0,>=3.1.6 in /opt/homebrew/lib/python3.11/site-packages (from esptool) (4.3.1)
Requirement already satisfied: cryptography>=2.1.4 in /opt/homebrew/lib/python3.11/site-packages (from esptool) (45.0.4)
Requirement already satisfied: ecdsa>=0.16.0 in /opt/homebrew/lib/python3.11/site-packages (from esptool) (0.19.1)
Requirement already satisfied: pyserial>=3.3 in /opt/homebrew/lib/python3.11/site-packages (from esptool) (3.5)
Requirement already satisfied: reedsolo<1.8,>=1.5.3 in /opt/homebrew/lib/python3.11/site-packages (from esptool) (1.7.0)
Requirement already satisfied: PyYAML>=5.1 in /opt/homebrew/lib/python3.11/site-packages (from esptool) (6.0.2)
Requirement already satisfied: intelhex in /opt/homebrew/lib/python3.11/site-packages (from esptool) (2.3.0)
Requirement already satisfied: argcomplete>=3 in /opt/homebrew/lib/python3.11/site-packages (from esptool) (3.6.2)
Requirement already satisfied: bitarray<4.0,>=3.0.0 in /opt/homebrew/lib/python3.11/site-packages (from bitstring!=4.2.0,>=3.1.6->esptool) (3.4.2)
Requirement already satisfied: cffi>=1.14 in /opt/homebrew/lib/python3.11/site-packages (from cryptography>=2.1.4->esptool) (1.17.1)
Requirement already satisfied: six>=1.9.0 in /opt/homebrew/lib/python3.11/site-packages (from ecdsa>=0.16.0->esptool) (1.17.0)
Requirement already satisfied: pycparser in /opt/homebrew/lib/python3.11/site-packages (from cffi>=1.14->cryptography>=2.1.4->esptool) (2.22)

[notice] A new release of pip is available: 25.0.1 -> 25.1.1
[notice] To update, run: python3.11 -m pip install --upgrade pip

===================
=== Install mpremote ===
Command: pip install mpremote
Output:
Requirement already satisfied: mpremote in /opt/homebrew/lib/python3.11/site-packages (1.25.0)
Requirement already satisfied: pyserial>=3.3 in /opt/homebrew/lib/python3.11/site-packages (from mpremote) (3.5)

[notice] A new release of pip is available: 25.0.1 -> 25.1.1
[notice] To update, run: python3.11 -m pip install --upgrade pip

===================
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
mpremote devs output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

Found Espressif device on port: /dev/cu.usbmodem1101
=== Get MAC Address ===
Command: esptool.py --port "/dev/cu.usbmodem1101" chip_id
Output:
esptool.py v4.8.1
Serial port /dev/cu.usbmodem1101
Connecting...
Detecting chip type... ESP32-S3
Chip is ESP32-S3 (QFN56) (revision v0.2)
Features: WiFi, BLE, Embedded PSRAM 8MB (AP_3v3)
Crystal is 40MHz
USB mode: USB-Serial/JTAG
MAC: d8:3b:da:4d:29:50
Uploading stub...
Running stub...
Stub running...
Warning: ESP32-S3 has no Chip ID. Reading MAC instead.
MAC: d8:3b:da:4d:29:50
Hard resetting via RTS pin...

===================
Device MAC address: d8:3b:da:4d:29:50
Flashing firmware...
=== Erase Flash ===
Command: esptool.py --chip esp32s3 --port "/dev/cu.usbmodem1101" --baud 921600 --before default_reset --after hard_reset erase_flash
Output:
esptool.py v4.8.1
Serial port /dev/cu.usbmodem1101
Connecting...
Chip is ESP32-S3 (QFN56) (revision v0.2)
Features: WiFi, BLE, Embedded PSRAM 8MB (AP_3v3)
Crystal is 40MHz
USB mode: USB-Serial/JTAG
MAC: d8:3b:da:4d:29:50
Uploading stub...
Running stub...
Stub running...
Changing baud rate to 921600
Changed.
Erasing flash (this may take a while)...
Chip erase completed successfully in 17.7 seconds.
Hard resetting via RTS pin...

===================
=== Write Flash ===
Command: esptool.py --chip esp32s3 --port "/dev/cu.usbmodem1101" --baud 921600 --before default_reset --after hard_reset write_flash -z --flash_mode dio --flash_freq 80m 0x0 "/Users/danielmcshan/GitHub/MCT/mod/MCC/firmware/bootloader.bin" 0x8000 "/Users/danielmcshan/GitHub/MCT/mod/MCC/firmware/partition-table.bin" 0x20000 "/Users/danielmcshan/GitHub/MCT/mod/MCC/firmware/micropython.bin"
Output:
esptool.py v4.8.1
Serial port /dev/cu.usbmodem1101
Connecting...
Chip is ESP32-S3 (QFN56) (revision v0.2)
Features: WiFi, BLE, Embedded PSRAM 8MB (AP_3v3)
Crystal is 40MHz
USB mode: USB-Serial/JTAG
MAC: d8:3b:da:4d:29:50
Uploading stub...
Running stub...
Stub running...
Changing baud rate to 921600
Changed.
Configuring flash size...
Flash will be erased from 0x00000000 to 0x00004fff...
Flash will be erased from 0x00008000 to 0x00008fff...
Flash will be erased from 0x00020000 to 0x00303fff...
SHA digest in image updated
Compressed 19152 bytes to 12450...
Writing at 0x00000000... (100 %)
Wrote 19152 bytes (12450 compressed) at 0x00000000 in 0.2 seconds (effective 709.4 kbit/s)...
Hash of data verified.
Compressed 3072 bytes to 139...
Writing at 0x00008000... (100 %)
Wrote 3072 bytes (139 compressed) at 0x00008000 in 0.0 seconds (effective 600.1 kbit/s)...
Hash of data verified.
Compressed 3030448 bytes to 1792446...
Writing at 0x00020000... (0 %)
Writing at 0x0002a854... (1 %)
Writing at 0x000332f3... (2 %)
Writing at 0x0003b001... (3 %)
Writing at 0x000407d4... (4 %)
Writing at 0x0004967d... (5 %)
Writing at 0x00055e50... (6 %)
Writing at 0x00062d74... (7 %)
Writing at 0x0006e4ff... (8 %)
Writing at 0x00079e10... (9 %)
Writing at 0x00086127... (10 %)
Writing at 0x0008ceda... (10 %)
Writing at 0x0009398d... (11 %)
Writing at 0x00099f03... (12 %)
Writing at 0x000a0493... (13 %)
Writing at 0x000a5eb8... (14 %)
Writing at 0x000ab6c2... (15 %)
Writing at 0x000b1670... (16 %)
Writing at 0x000b8318... (17 %)
Writing at 0x000bee9d... (18 %)
Writing at 0x000c6854... (19 %)
Writing at 0x000cdbc5... (20 %)
Writing at 0x000d4776... (20 %)
Writing at 0x000db202... (21 %)
Writing at 0x000e17bf... (22 %)
Writing at 0x000e7f21... (23 %)
Writing at 0x000eea46... (24 %)
Writing at 0x000f4c88... (25 %)
Writing at 0x000fc389... (26 %)
Writing at 0x00100e5c... (27 %)
Writing at 0x00109059... (28 %)
Writing at 0x001128e5... (29 %)
Writing at 0x0011adf7... (30 %)
Writing at 0x001203f6... (30 %)
Writing at 0x00128cc8... (31 %)
Writing at 0x00134943... (32 %)
Writing at 0x001421cc... (33 %)
Writing at 0x0014ad4b... (34 %)
Writing at 0x001539a4... (35 %)
Writing at 0x0015cb76... (36 %)
Writing at 0x001688e3... (37 %)
Writing at 0x0017102a... (38 %)
Writing at 0x00179376... (39 %)
Writing at 0x00180deb... (40 %)
Writing at 0x00189e91... (40 %)
Writing at 0x00191a4d... (41 %)
Writing at 0x0019a921... (42 %)
Writing at 0x001a2fa8... (43 %)
Writing at 0x001abb6d... (44 %)
Writing at 0x001b3bcd... (45 %)
Writing at 0x001bb935... (46 %)
Writing at 0x001c3a70... (47 %)
Writing at 0x001c9c21... (48 %)
Writing at 0x001cf690... (49 %)
Writing at 0x001d4a4a... (50 %)
Writing at 0x001d9e46... (50 %)
Writing at 0x001df101... (51 %)
Writing at 0x001e44a6... (52 %)
Writing at 0x001e9c37... (53 %)
Writing at 0x001ef241... (54 %)
Writing at 0x001f465c... (55 %)
Writing at 0x001f97f7... (56 %)
Writing at 0x001feaea... (57 %)
Writing at 0x00203f74... (58 %)
Writing at 0x00208eed... (59 %)
Writing at 0x0020ddd5... (60 %)
Writing at 0x002132b1... (60 %)
Writing at 0x00219b90... (61 %)
Writing at 0x0021f79f... (62 %)
Writing at 0x00225815... (63 %)
Writing at 0x0022ac2a... (64 %)
Writing at 0x0022fcb7... (65 %)
Writing at 0x00235abe... (66 %)
Writing at 0x0023bbaa... (67 %)
Writing at 0x00241340... (68 %)
Writing at 0x00246a9c... (69 %)
Writing at 0x0024c32f... (70 %)
Writing at 0x00251ef0... (70 %)
Writing at 0x0025794d... (71 %)
Writing at 0x0025cd9a... (72 %)
Writing at 0x002635c4... (73 %)
Writing at 0x00269077... (74 %)
Writing at 0x0026e60c... (75 %)
Writing at 0x0027427a... (76 %)
Writing at 0x00279e00... (77 %)
Writing at 0x0027f600... (78 %)
Writing at 0x00284703... (79 %)
Writing at 0x00289c74... (80 %)
Writing at 0x0028f1c8... (80 %)
Writing at 0x002946ea... (81 %)
Writing at 0x0029a032... (82 %)
Writing at 0x0029ef16... (83 %)
Writing at 0x002a3e40... (84 %)
Writing at 0x002a91d8... (85 %)
Writing at 0x002ae64e... (86 %)
Writing at 0x002b3812... (87 %)
Writing at 0x002b898a... (88 %)
Writing at 0x002be19e... (89 %)
Writing at 0x002c3d94... (90 %)
Writing at 0x002c8e78... (90 %)
Writing at 0x002ce02a... (91 %)
Writing at 0x002d35d7... (92 %)
Writing at 0x002d94dd... (93 %)
Writing at 0x002dec59... (94 %)
Writing at 0x002e4f02... (95 %)
Writing at 0x002ea262... (96 %)
Writing at 0x002ef81b... (97 %)
Writing at 0x002f4f9e... (98 %)
Writing at 0x002fafe5... (99 %)
Writing at 0x00301343... (100 %)
Wrote 3030448 bytes (1792446 compressed) at 0x00020000 in 18.7 seconds (effective 1298.8 kbit/s)...
Hash of data verified.

Leaving...
Hard resetting via RTS pin...

===================
Waiting for device to boot into MicroPython...
=== Run flashed firmware ===
Command: esptool.py --chip esp32s3 --port "/dev/cu.usbmodem1101" run
Output:
esptool.py v4.8.1
Serial port /dev/cu.usbmodem1101
Connecting...
Chip is ESP32-S3 (QFN56) (revision v0.2)
Features: WiFi, BLE, Embedded PSRAM 8MB (AP_3v3)
Crystal is 40MHz
USB mode: USB-Serial/JTAG
MAC: d8:3b:da:4d:29:50
Uploading stub...
Running stub...
Stub running...
Hard resetting via RTS pin...

===================
Waiting for REPL port (attempt 1/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
Waiting for REPL port (attempt 2/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
Waiting for REPL port (attempt 3/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
Waiting for REPL port (attempt 4/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
Waiting for REPL port (attempt 5/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
Waiting for REPL port (attempt 6/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
Waiting for REPL port (attempt 7/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
Waiting for REPL port (attempt 8/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
Waiting for REPL port (attempt 9/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
Waiting for REPL port (attempt 10/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
REPL port not detected automatically; script will still attempt mpremote without explicit port.
Firmware flashed successfully.
Checking MicroPython REPL access…
=== Check REPL ===
Command: mpremote exec "print('OK')"
