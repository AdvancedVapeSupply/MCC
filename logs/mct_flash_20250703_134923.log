Running load_mct.py
Installing required packages...
=== Install esptool ===
Command: pip install --upgrade esptool
Output:
Requirement already satisfied: esptool in ./venv_ble/lib/python3.13/site-packages (5.0.0)
Requirement already satisfied: bitstring!=4.2.0,>=3.1.6 in ./venv_ble/lib/python3.13/site-packages (from esptool) (4.3.1)
Requirement already satisfied: cryptography>=43.0.0 in ./venv_ble/lib/python3.13/site-packages (from esptool) (45.0.4)
Requirement already satisfied: pyserial>=3.3 in ./venv_ble/lib/python3.13/site-packages (from esptool) (3.5)
Requirement already satisfied: reedsolo<1.8,>=1.5.3 in ./venv_ble/lib/python3.13/site-packages (from esptool) (1.7.0)
Requirement already satisfied: PyYAML>=5.1 in ./venv_ble/lib/python3.13/site-packages (from esptool) (6.0.2)
Requirement already satisfied: intelhex in ./venv_ble/lib/python3.13/site-packages (from esptool) (2.3.0)
Requirement already satisfied: rich_click in ./venv_ble/lib/python3.13/site-packages (from esptool) (1.8.9)
Requirement already satisfied: click<8.2.0 in ./venv_ble/lib/python3.13/site-packages (from esptool) (8.1.8)
Requirement already satisfied: bitarray<4.0,>=3.0.0 in ./venv_ble/lib/python3.13/site-packages (from bitstring!=4.2.0,>=3.1.6->esptool) (3.4.3)
Requirement already satisfied: cffi>=1.14 in ./venv_ble/lib/python3.13/site-packages (from cryptography>=43.0.0->esptool) (1.17.1)
Requirement already satisfied: rich>=10.7 in ./venv_ble/lib/python3.13/site-packages (from rich_click->esptool) (14.0.0)
Requirement already satisfied: typing_extensions>=4 in ./venv_ble/lib/python3.13/site-packages (from rich_click->esptool) (4.14.0)
Requirement already satisfied: pycparser in ./venv_ble/lib/python3.13/site-packages (from cffi>=1.14->cryptography>=43.0.0->esptool) (2.22)
Requirement already satisfied: markdown-it-py>=2.2.0 in ./venv_ble/lib/python3.13/site-packages (from rich>=10.7->rich_click->esptool) (3.0.0)
Requirement already satisfied: pygments<3.0.0,>=2.13.0 in ./venv_ble/lib/python3.13/site-packages (from rich>=10.7->rich_click->esptool) (2.19.2)
Requirement already satisfied: mdurl~=0.1 in ./venv_ble/lib/python3.13/site-packages (from markdown-it-py>=2.2.0->rich>=10.7->rich_click->esptool) (0.1.2)

[notice] A new release of pip is available: 25.0.1 -> 25.1.1
[notice] To update, run: pip install --upgrade pip

===================
=== Install mpremote ===
Command: pip install mpremote
Output:
Requirement already satisfied: mpremote in ./venv_ble/lib/python3.13/site-packages (1.25.0)
Requirement already satisfied: pyserial>=3.3 in ./venv_ble/lib/python3.13/site-packages (from mpremote) (3.5)

[notice] A new release of pip is available: 25.0.1 -> 25.1.1
[notice] To update, run: pip install --upgrade pip

===================
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit
/dev/cu.usbmodem21101 d83bda4d2beccb3f 303a:0420 AVS MCT

===================
mpremote devs output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit
/dev/cu.usbmodem21101 d83bda4d2beccb3f 303a:0420 AVS MCT

Found device in bootloader mode on port: /dev/cu.usbmodem1101
=== Get MAC Address ===
Command: esptool.py --port "/dev/cu.usbmodem1101" chip_id
Output:
[0;33mWarning:[0m DEPRECATED: 'esptool.py' is deprecated. Please use 'esptool' instead. The '.py' suffix will be removed in a future major release.
[0;33mWarning:[0m Deprecated: Command 'chip_id' is deprecated. Use 'chip-id' instead.
esptool v5.0.0
Serial port /dev/cu.usbmodem1101:
Connecting...
Detecting chip type... ESP32-S3
[1A[2K[1A[2K[1A[2KConnected to ESP32-S3 on /dev/cu.usbmodem1101:
Chip type:          ESP32-S3 (QFN56) (revision v0.2)
Features:           Wi-Fi, BT 5 (LE), Dual Core + LP Core, 240MHz, Embedded PSRAM 8MB (AP_3v3)
Crystal frequency:  40MHz
USB mode:           USB-Serial/JTAG
MAC:                d8:3b:da:4d:29:50

Uploading stub flasher...
Running stub flasher...
[1A[2K[1A[2KStub flasher running.

[0;33mWarning:[0m ESP32-S3 has no chip ID. Reading MAC address instead.
MAC:                d8:3b:da:4d:29:50

Hard resetting via RTS pin...

===================
Device MAC address: d8:3b:da:4d:29:50
Flashing firmware...
=== Erase Flash ===
Command: esptool.py --chip esp32s3 --port "/dev/cu.usbmodem1101" --baud 115200 --before default_reset --after watchdog_reset erase_flash
Output:
[0;33mWarning:[0m DEPRECATED: 'esptool.py' is deprecated. Please use 'esptool' instead. The '.py' suffix will be removed in a future major release.
[0;33mWarning:[0m Deprecated: Choice 'default_reset' for option '--before' is deprecated. Use 'default-reset' instead.
[0;33mWarning:[0m Deprecated: Choice 'watchdog_reset' for option '--after' is deprecated. Use 'watchdog-reset' instead.
[0;33mWarning:[0m Deprecated: Command 'erase_flash' is deprecated. Use 'erase-flash' instead.
esptool v5.0.0
Serial port /dev/cu.usbmodem1101:
Connecting...
[1A[2K[1A[2KConnected to ESP32-S3 on /dev/cu.usbmodem1101:
Chip type:          ESP32-S3 (QFN56) (revision v0.2)
Features:           Wi-Fi, BT 5 (LE), Dual Core + LP Core, 240MHz, Embedded PSRAM 8MB (AP_3v3)
Crystal frequency:  40MHz
USB mode:           USB-Serial/JTAG
MAC:                d8:3b:da:4d:29:50

Uploading stub flasher...
Running stub flasher...
[1A[2K[1A[2KStub flasher running.

Erasing flash memory (this may take a while)...
[1A[2KFlash memory erased successfully in 11.0 seconds.

Hard resetting with a watchdog...

===================
=== Write Flash ===
Command: esptool.py --chip esp32s3 --port "/dev/cu.usbmodem1101" --baud 115200 --before default_reset --after watchdog_reset write_flash -z 0x0 "/Users/danielmcshan/GitHub/MCT/mod/MCC/firmware/bootloader.bin" 0x8000 "/Users/danielmcshan/GitHub/MCT/mod/MCC/firmware/partition-table.bin" 0x20000 "/Users/danielmcshan/GitHub/MCT/mod/MCC/firmware/micropython.bin" 0x820000 "/Users/danielmcshan/GitHub/MCT/mod/MCC/firmware/filesystem.bin"
Output:
[0;33mWarning:[0m DEPRECATED: 'esptool.py' is deprecated. Please use 'esptool' instead. The '.py' suffix will be removed in a future major release.
[0;33mWarning:[0m Deprecated: Choice 'default_reset' for option '--before' is deprecated. Use 'default-reset' instead.
[0;33mWarning:[0m Deprecated: Choice 'watchdog_reset' for option '--after' is deprecated. Use 'watchdog-reset' instead.
[0;33mWarning:[0m Deprecated: Command 'write_flash' is deprecated. Use 'write-flash' instead.
esptool v5.0.0
Serial port /dev/cu.usbmodem1101:
Connecting....
[1A[2K[1A[2KConnected to ESP32-S3 on /dev/cu.usbmodem1101:
Chip type:          ESP32-S3 (QFN56) (revision v0.2)
Features:           Wi-Fi, BT 5 (LE), Dual Core + LP Core, 240MHz, Embedded PSRAM 8MB (AP_3v3)
Crystal frequency:  40MHz
USB mode:           USB-Serial/JTAG
MAC:                d8:3b:da:4d:29:50

Uploading stub flasher...
Running stub flasher...
[1A[2K[1A[2KStub flasher running.

Configuring flash size...
Flash will be erased from 0x00000000 to 0x00004fff...
Flash will be erased from 0x00008000 to 0x00008fff...
Flash will be erased from 0x00020000 to 0x00280fff...
Flash will be erased from 0x00820000 to 0x00ffffff...
Compressed 19152 bytes to 12450...

[KWriting at 0x00000000 [                              ]   0.0% 0/12450 bytes... 
[KWriting at 0x00004ad0 [==============================] 100.0% 12450/12450 bytes... 
[1A[2K[1A[2KWrote 19152 bytes (12450 compressed) at 0x00000000 in 0.2 seconds (636.3 kbit/s).
Hash of data verified.
Compressed 3072 bytes to 139...

[KWriting at 0x00008000 [                              ]   0.0% 0/139 bytes... 
[KWriting at 0x00008c00 [==============================] 100.0% 139/139 bytes... 
[1A[2K[1A[2KWrote 3072 bytes (139 compressed) at 0x00008000 in 0.0 seconds (1065.8 kbit/s).
Hash of data verified.
Compressed 2493120 bytes to 1499079...

[KWriting at 0x00020000 [                              ]   0.0% 0/1499079 bytes... 
[KWriting at 0x0002a845 [                              ]   1.1% 16384/1499079 bytes... 
[KWriting at 0x000332ed [                              ]   2.2% 32768/1499079 bytes... 
[KWriting at 0x0003afff [                              ]   3.3% 49152/1499079 bytes... 
[KWriting at 0x000407d2 [>                             ]   4.4% 65536/1499079 bytes... 
[KWriting at 0x00049675 [>                             ]   5.5% 81920/1499079 bytes... 
[KWriting at 0x00055ed7 [>                             ]   6.6% 98304/1499079 bytes... 
[KWriting at 0x000620bd [=>                            ]   7.7% 114688/1499079 bytes... 
[KWriting at 0x0006b083 [=>                            ]   8.7% 131072/1499079 bytes... 
[KWriting at 0x00070a42 [=>                            ]   9.8% 147456/1499079 bytes... 
[KWriting at 0x0007763c [==>                           ]  10.9% 163840/1499079 bytes... 
[KWriting at 0x0007d69b [==>                           ]  12.0% 180224/1499079 bytes... 
[KWriting at 0x00085228 [==>                           ]  13.1% 196608/1499079 bytes... 
[KWriting at 0x0008e116 [===>                          ]  14.2% 212992/1499079 bytes... 
[KWriting at 0x000974f4 [===>                          ]  15.3% 229376/1499079 bytes... 
[KWriting at 0x000a17e4 [===>                          ]  16.4% 245760/1499079 bytes... 
[KWriting at 0x000af265 [====>                         ]  17.5% 262144/1499079 bytes... 
[KWriting at 0x000b9404 [====>                         ]  18.6% 278528/1499079 bytes... 
[KWriting at 0x000c1ece [====>                         ]  19.7% 294912/1499079 bytes... 
[KWriting at 0x000ca36f [=====>                        ]  20.8% 311296/1499079 bytes... 
[KWriting at 0x000d68ef [=====>                        ]  21.9% 327680/1499079 bytes... 
[KWriting at 0x000df480 [=====>                        ]  23.0% 344064/1499079 bytes... 
[KWriting at 0x000e78ba [======>                       ]  24.0% 360448/1499079 bytes... 
[KWriting at 0x000ef30b [======>                       ]  25.1% 376832/1499079 bytes... 
[KWriting at 0x000f80af [======>                       ]  26.2% 393216/1499079 bytes... 
[KWriting at 0x000fff62 [=======>                      ]  27.3% 409600/1499079 bytes... 
[KWriting at 0x00109087 [=======>                      ]  28.4% 425984/1499079 bytes... 
[KWriting at 0x00110b2d [=======>                      ]  29.5% 442368/1499079 bytes... 
[KWriting at 0x0011a005 [========>                     ]  30.6% 458752/1499079 bytes... 
[KWriting at 0x00121fc0 [========>                     ]  31.7% 475136/1499079 bytes... 
[KWriting at 0x0012a0d7 [========>                     ]  32.8% 491520/1499079 bytes... 
[KWriting at 0x00132020 [=========>                    ]  33.9% 507904/1499079 bytes... 
[KWriting at 0x00138b44 [=========>                    ]  35.0% 524288/1499079 bytes... 
[KWriting at 0x0013e596 [=========>                    ]  36.1% 540672/1499079 bytes... 
[KWriting at 0x00143837 [==========>                   ]  37.2% 557056/1499079 bytes... 
[KWriting at 0x00148de2 [==========>                   ]  38.3% 573440/1499079 bytes... 
[KWriting at 0x0014e120 [==========>                   ]  39.3% 589824/1499079 bytes... 
[KWriting at 0x00153536 [===========>                  ]  40.4% 606208/1499079 bytes... 
[KWriting at 0x00158b24 [===========>                  ]  41.5% 622592/1499079 bytes... 
[KWriting at 0x0015e2b6 [===========>                  ]  42.6% 638976/1499079 bytes... 
[KWriting at 0x00163551 [============>                 ]  43.7% 655360/1499079 bytes... 
[KWriting at 0x00168759 [============>                 ]  44.8% 671744/1499079 bytes... 
[KWriting at 0x0016db0b [============>                 ]  45.9% 688128/1499079 bytes... 
[KWriting at 0x00172deb [=============>                ]  47.0% 704512/1499079 bytes... 
[KWriting at 0x00177f52 [=============>                ]  48.1% 720896/1499079 bytes... 
[KWriting at 0x0017ce47 [=============>                ]  49.2% 737280/1499079 bytes... 
[KWriting at 0x001820ae [==============>               ]  50.3% 753664/1499079 bytes... 
[KWriting at 0x00188beb [==============>               ]  51.4% 770048/1499079 bytes... 
[KWriting at 0x0018e64c [==============>               ]  52.5% 786432/1499079 bytes... 
[KWriting at 0x001945f1 [===============>              ]  53.6% 802816/1499079 bytes... 
[KWriting at 0x00199c84 [===============>              ]  54.6% 819200/1499079 bytes... 
[KWriting at 0x0019ecc8 [===============>              ]  55.7% 835584/1499079 bytes... 
[KWriting at 0x001a48f3 [================>             ]  56.8% 851968/1499079 bytes... 
[KWriting at 0x001aa9df [================>             ]  57.9% 868352/1499079 bytes... 
[KWriting at 0x001b00ca [================>             ]  59.0% 884736/1499079 bytes... 
[KWriting at 0x001b57ae [=================>            ]  60.1% 901120/1499079 bytes... 
[KWriting at 0x001bb1d3 [=================>            ]  61.2% 917504/1499079 bytes... 
[KWriting at 0x001c0c83 [=================>            ]  62.3% 933888/1499079 bytes... 
[KWriting at 0x001c67d7 [==================>           ]  63.4% 950272/1499079 bytes... 
[KWriting at 0x001cbe53 [==================>           ]  64.5% 966656/1499079 bytes... 
[KWriting at 0x001d1d37 [==================>           ]  65.6% 983040/1499079 bytes... 
[KWriting at 0x001d7ed6 [===================>          ]  66.7% 999424/1499079 bytes... 
[KWriting at 0x001dd5e5 [===================>          ]  67.8% 1015808/1499079 bytes... 
[KWriting at 0x001e2f13 [===================>          ]  68.9% 1032192/1499079 bytes... 
[KWriting at 0x001e8ce2 [===================>          ]  69.9% 1048576/1499079 bytes... 
[KWriting at 0x001ee72d [====================>         ]  71.0% 1064960/1499079 bytes... 
[KWriting at 0x001f371b [====================>         ]  72.1% 1081344/1499079 bytes... 
[KWriting at 0x001f8b62 [====================>         ]  73.2% 1097728/1499079 bytes... 
[KWriting at 0x001fe072 [=====================>        ]  74.3% 1114112/1499079 bytes... 
[KWriting at 0x00203606 [=====================>        ]  75.4% 1130496/1499079 bytes... 
[KWriting at 0x00208a70 [=====================>        ]  76.5% 1146880/1499079 bytes... 
[KWriting at 0x0020df5c [======================>       ]  77.6% 1163264/1499079 bytes... 
[KWriting at 0x00212f12 [======================>       ]  78.7% 1179648/1499079 bytes... 
[KWriting at 0x002182f3 [======================>       ]  79.8% 1196032/1499079 bytes... 
[KWriting at 0x0021d660 [=======================>      ]  80.9% 1212416/1499079 bytes... 
[KWriting at 0x002226e5 [=======================>      ]  82.0% 1228800/1499079 bytes... 
[KWriting at 0x00227842 [=======================>      ]  83.1% 1245184/1499079 bytes... 
[KWriting at 0x0022ccd2 [========================>     ]  84.2% 1261568/1499079 bytes... 
[KWriting at 0x00232d70 [========================>     ]  85.2% 1277952/1499079 bytes... 
[KWriting at 0x00237e5d [========================>     ]  86.3% 1294336/1499079 bytes... 
[KWriting at 0x0023d098 [=========================>    ]  87.4% 1310720/1499079 bytes... 
[KWriting at 0x00242683 [=========================>    ]  88.5% 1327104/1499079 bytes... 
[KWriting at 0x00248174 [=========================>    ]  89.6% 1343488/1499079 bytes... 
[KWriting at 0x0024dc23 [==========================>   ]  90.7% 1359872/1499079 bytes... 
[KWriting at 0x00253854 [==========================>   ]  91.8% 1376256/1499079 bytes... 
[KWriting at 0x00259339 [==========================>   ]  92.9% 1392640/1499079 bytes... 
[KWriting at 0x0025e404 [===========================>  ]  94.0% 1409024/1499079 bytes... 
[KWriting at 0x00266835 [===========================>  ]  95.1% 1425408/1499079 bytes... 
[KWriting at 0x0026c2d3 [===========================>  ]  96.2% 1441792/1499079 bytes... 
[KWriting at 0x00271591 [============================> ]  97.3% 1458176/1499079 bytes... 
[KWriting at 0x002774b6 [============================> ]  98.4% 1474560/1499079 bytes... 
[KWriting at 0x0027d8b3 [============================> ]  99.5% 1490944/1499079 bytes... 
[KWriting at 0x00280ac0 [==============================] 100.0% 1499079/1499079 bytes... 
[1A[2K[1A[2KWrote 2493120 bytes (1499079 compressed) at 0x00020000 in 19.7 seconds (1010.8 kbit/s).
Hash of data verified.
Compressed 8257536 bytes to 1752265...

[KWriting at 0x00820000 [                              ]   0.0% 0/1752265 bytes... 
[KWriting at 0x00831de0 [                              ]   0.9% 16384/1752265 bytes... 
[KWriting at 0x0084220b [                              ]   1.9% 32768/1752265 bytes... 
[KWriting at 0x0085eb97 [                              ]   2.8% 49152/1752265 bytes... 
[KWriting at 0x008769d2 [>                             ]   3.7% 65536/1752265 bytes... 
[KWriting at 0x008929d3 [>                             ]   4.7% 81920/1752265 bytes... 
[KWriting at 0x008a6296 [>                             ]   5.6% 98304/1752265 bytes... 
[KWriting at 0x008b454e [>                             ]   6.5% 114688/1752265 bytes... 
[KWriting at 0x008c50a0 [=>                            ]   7.5% 131072/1752265 bytes... 
[KWriting at 0x008cffd4 [=>                            ]   8.4% 147456/1752265 bytes... 
[KWriting at 0x008d9279 [=>                            ]   9.4% 163840/1752265 bytes... 
[KWriting at 0x008e38f1 [==>                           ]  10.3% 180224/1752265 bytes... 
[KWriting at 0x008f301e [==>                           ]  11.2% 196608/1752265 bytes... 
[KWriting at 0x008ffc2c [==>                           ]  12.2% 212992/1752265 bytes... 
[KWriting at 0x00921f43 [==>                           ]  13.1% 229376/1752265 bytes... 
[KWriting at 0x0092db98 [===>                          ]  14.0% 245760/1752265 bytes... 
[KWriting at 0x009366d4 [===>                          ]  15.0% 262144/1752265 bytes... 
[KWriting at 0x00942d56 [===>                          ]  15.9% 278528/1752265 bytes... 
[KWriting at 0x009506bd [====>                         ]  16.8% 294912/1752265 bytes... 
[KWriting at 0x0095bdd7 [====>                         ]  17.8% 311296/1752265 bytes... 
[KWriting at 0x009660b1 [====>                         ]  18.7% 327680/1752265 bytes... 
[KWriting at 0x0096f78a [====>                         ]  19.6% 344064/1752265 bytes... 
[KWriting at 0x0097c2f4 [=====>                        ]  20.6% 360448/1752265 bytes... 
[KWriting at 0x0098c0ec [=====>                        ]  21.5% 376832/1752265 bytes... 
[KWriting at 0x009993c2 [=====>                        ]  22.4% 393216/1752265 bytes... 
[KWriting at 0x009afe48 [======>                       ]  23.4% 409600/1752265 bytes... 
[KWriting at 0x009ce014 [======>                       ]  24.3% 425984/1752265 bytes... 
[KWriting at 0x009d7c7d [======>                       ]  25.2% 442368/1752265 bytes... 
[KWriting at 0x009e3b1b [======>                       ]  26.2% 458752/1752265 bytes... 
[KWriting at 0x009f06a8 [=======>                      ]  27.1% 475136/1752265 bytes... 
[KWriting at 0x009fca4b [=======>                      ]  28.1% 491520/1752265 bytes... 
[KWriting at 0x00a101a5 [=======>                      ]  29.0% 507904/1752265 bytes... 
[KWriting at 0x00a1dcd7 [=======>                      ]  29.9% 524288/1752265 bytes... 
[KWriting at 0x00a2c35d [========>                     ]  30.9% 540672/1752265 bytes... 
[KWriting at 0x00a46587 [========>                     ]  31.8% 557056/1752265 bytes... 
[KWriting at 0x00a592e7 [========>                     ]  32.7% 573440/1752265 bytes... 
[KWriting at 0x00a6ab4e [=========>                    ]  33.7% 589824/1752265 bytes... 
[KWriting at 0x00a77971 [=========>                    ]  34.6% 606208/1752265 bytes... 
[KWriting at 0x00a874c9 [=========>                    ]  35.5% 622592/1752265 bytes... 
[KWriting at 0x00a905bf [=========>                    ]  36.5% 638976/1752265 bytes... 
[KWriting at 0x00aa73c7 [==========>                   ]  37.4% 655360/1752265 bytes... 
[KWriting at 0x00ac07c9 [==========>                   ]  38.3% 671744/1752265 bytes... 
[KWriting at 0x00ac4700 [==========>                   ]  39.3% 688128/1752265 bytes... 
[KWriting at 0x00ad6432 [===========>                  ]  40.2% 704512/1752265 bytes... 
[KWriting at 0x00ada392 [===========>                  ]  41.1% 720896/1752265 bytes... 
[KWriting at 0x00aeb797 [===========>                  ]  42.1% 737280/1752265 bytes... 
[KWriting at 0x00afc2f9 [===========>                  ]  43.0% 753664/1752265 bytes... 
[KWriting at 0x00b18b2a [============>                 ]  43.9% 770048/1752265 bytes... 
[KWriting at 0x00b25043 [============>                 ]  44.9% 786432/1752265 bytes... 
[KWriting at 0x00b2a551 [============>                 ]  45.8% 802816/1752265 bytes... 
[KWriting at 0x00b3038a [=============>                ]  46.8% 819200/1752265 bytes... 
[KWriting at 0x00b3aac2 [=============>                ]  47.7% 835584/1752265 bytes... 
[KWriting at 0x00b42e6f [=============>                ]  48.6% 851968/1752265 bytes... 
[KWriting at 0x00b4838f [=============>                ]  49.6% 868352/1752265 bytes... 
[KWriting at 0x00b54dc2 [==============>               ]  50.5% 884736/1752265 bytes... 
[KWriting at 0x00b69b5f [==============>               ]  51.4% 901120/1752265 bytes... 
[KWriting at 0x00b7f430 [==============>               ]  52.4% 917504/1752265 bytes... 
[KWriting at 0x00b9ea2a [==============>               ]  53.3% 933888/1752265 bytes... 
[KWriting at 0x00bb4f48 [===============>              ]  54.2% 950272/1752265 bytes... 
[KWriting at 0x00bcde18 [===============>              ]  55.2% 966656/1752265 bytes... 
[KWriting at 0x00bdd9a6 [===============>              ]  56.1% 983040/1752265 bytes... 
[KWriting at 0x00bea063 [================>             ]  57.0% 999424/1752265 bytes... 
[KWriting at 0x00bf99c3 [================>             ]  58.0% 1015808/1752265 bytes... 
[KWriting at 0x00c03585 [================>             ]  58.9% 1032192/1752265 bytes... 
[KWriting at 0x00c0d2cf [================>             ]  59.8% 1048576/1752265 bytes... 
[KWriting at 0x00c1b510 [=================>            ]  60.8% 1064960/1752265 bytes... 
[KWriting at 0x00c26989 [=================>            ]  61.7% 1081344/1752265 bytes... 
[KWriting at 0x00c4855f [=================>            ]  62.6% 1097728/1752265 bytes... 
[KWriting at 0x00c57043 [==================>           ]  63.6% 1114112/1752265 bytes... 
[KWriting at 0x00c5f5c5 [==================>           ]  64.5% 1130496/1752265 bytes... 
[KWriting at 0x00c6a111 [==================>           ]  65.5% 1146880/1752265 bytes... 
[KWriting at 0x00c7864a [==================>           ]  66.4% 1163264/1752265 bytes... 
[KWriting at 0x00c83925 [===================>          ]  67.3% 1179648/1752265 bytes... 
[KWriting at 0x00c8e34e [===================>          ]  68.3% 1196032/1752265 bytes... 
[KWriting at 0x00c97ce0 [===================>          ]  69.2% 1212416/1752265 bytes... 
[KWriting at 0x00ca5429 [====================>         ]  70.1% 1228800/1752265 bytes... 
[KWriting at 0x00cb078f [====================>         ]  71.1% 1245184/1752265 bytes... 
[KWriting at 0x00cbd61a [====================>         ]  72.0% 1261568/1752265 bytes... 
[KWriting at 0x00e55abd [====================>         ]  72.9% 1277952/1752265 bytes... 
[KWriting at 0x00e6ba3b [=====================>        ]  73.9% 1294336/1752265 bytes... 
[KWriting at 0x00e838ef [=====================>        ]  74.8% 1310720/1752265 bytes... 
[KWriting at 0x00e8e6e4 [=====================>        ]  75.7% 1327104/1752265 bytes... 
[KWriting at 0x00e9b1f0 [======================>       ]  76.7% 1343488/1752265 bytes... 
[KWriting at 0x00ea7ba1 [======================>       ]  77.6% 1359872/1752265 bytes... 
[KWriting at 0x00eb534b [======================>       ]  78.5% 1376256/1752265 bytes... 
[KWriting at 0x00ec8e84 [======================>       ]  79.5% 1392640/1752265 bytes... 
[KWriting at 0x00ed2899 [=======================>      ]  80.4% 1409024/1752265 bytes... 
[KWriting at 0x00eec082 [=======================>      ]  81.3% 1425408/1752265 bytes... 
[KWriting at 0x00f03be7 [=======================>      ]  82.3% 1441792/1752265 bytes... 
[KWriting at 0x00f11bda [=======================>      ]  83.2% 1458176/1752265 bytes... 
[KWriting at 0x00f22fc1 [========================>     ]  84.2% 1474560/1752265 bytes... 
[KWriting at 0x00f2f22d [========================>     ]  85.1% 1490944/1752265 bytes... 
[KWriting at 0x00f3b4ea [========================>     ]  86.0% 1507328/1752265 bytes... 
[KWriting at 0x00f49cd1 [=========================>    ]  87.0% 1523712/1752265 bytes... 
[KWriting at 0x00f6d837 [=========================>    ]  87.9% 1540096/1752265 bytes... 
[KWriting at 0x00f74254 [=========================>    ]  88.8% 1556480/1752265 bytes... 
[KWriting at 0x00f80ba3 [=========================>    ]  89.8% 1572864/1752265 bytes... 
[KWriting at 0x00f89e24 [==========================>   ]  90.7% 1589248/1752265 bytes... 
[KWriting at 0x00f90d4a [==========================>   ]  91.6% 1605632/1752265 bytes... 
[KWriting at 0x00fa6cd8 [==========================>   ]  92.6% 1622016/1752265 bytes... 
[KWriting at 0x00fb71c4 [===========================>  ]  93.5% 1638400/1752265 bytes... 
[KWriting at 0x00fce53b [===========================>  ]  94.4% 1654784/1752265 bytes... 
[KWriting at 0x00fd9109 [===========================>  ]  95.4% 1671168/1752265 bytes... 
[KWriting at 0x00fdf091 [===========================>  ]  96.3% 1687552/1752265 bytes... 
[KWriting at 0x00fe9b7c [============================> ]  97.2% 1703936/1752265 bytes... 
[KWriting at 0x00feeca7 [============================> ]  98.2% 1720320/1752265 bytes... 
[KWriting at 0x00ff6f1a [============================> ]  99.1% 1736704/1752265 bytes... 
[KWriting at 0x01000000 [==============================] 100.0% 1752265/1752265 bytes... 
[1A[2K[1A[2KWrote 8257536 bytes (1752265 compressed) at 0x00820000 in 40.3 seconds (1638.8 kbit/s).
Hash of data verified.

Hard resetting with a watchdog...

===================
Waiting for device to boot into MicroPython...
=== Run flashed firmware ===
Command: esptool.py --chip esp32s3 --port "/dev/cu.usbmodem1101" run
Output:
[0;33mWarning:[0m DEPRECATED: 'esptool.py' is deprecated. Please use 'esptool' instead. The '.py' suffix will be removed in a future major release.
esptool v5.0.0
Serial port /dev/cu.usbmodem1101:
Connecting...
Traceback (most recent call last):
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/bin/esptool.py", line 37, in <module>
    esptool._main()
    ~~~~~~~~~~~~~^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/esptool/__init__.py", line 1179, in _main
    main()
    ~~~~^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/esptool/__init__.py", line 1036, in main
    cli(args=args, esp=esp)
    ~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/esptool/cli_util.py", line 227, in __call__
    return super().__call__(*args, **kwargs)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/rich_click/rich_command.py", line 404, in __call__
    return super().__call__(*args, **kwargs)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/click/core.py", line 1161, in __call__
    return self.main(*args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/rich_click/rich_command.py", line 187, in main
    rv = self.invoke(ctx)
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/click/core.py", line 1697, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
                           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/click/core.py", line 1443, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/click/core.py", line 788, in invoke
    return __callback(*args, **kwargs)
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/click/decorators.py", line 33, in new_func
    return f(get_current_context(), *args, **kwargs)
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/esptool/__init__.py", line 696, in run_cli
    prepare_esp_object(ctx)
    ~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/esptool/__init__.py", line 469, in prepare_esp_object
    esp = esp or get_default_connected_device(
                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        ser_list,
        ^^^^^^^^^
    ...<5 lines>...
        before=ctx.obj["before"],
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/esptool/__init__.py", line 1164, in get_default_connected_device
    _esp.connect(before, connect_attempts)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/esptool/loader.py", line 764, in connect
    last_error = self._connect_attempt(reset_strategy, mode)
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/esptool/loader.py", line 657, in _connect_attempt
    self.flush_input()
    ~~~~~~~~~~~~~~~~^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/esptool/loader.py", line 569, in flush_input
    self._port.flushInput()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/serial/serialutil.py", line 588, in flushInput
    self.reset_input_buffer()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/serial/serialposix.py", line 683, in reset_input_buffer
    self._reset_input_buffer()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/serial/serialposix.py", line 677, in _reset_input_buffer
    termios.tcflush(self.fd, termios.TCIFLUSH)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
termios.error: (6, 'Device not configured')

===================
Waiting for REPL port (attempt 1/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit
/dev/cu.usbmodem21101 d83bda4d2beccb3f 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 2/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit
/dev/cu.usbmodem21101 d83bda4d2beccb3f 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 3/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit
/dev/cu.usbmodem21101 d83bda4d2beccb3f 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 4/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit
/dev/cu.usbmodem21101 d83bda4d2beccb3f 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 5/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit
/dev/cu.usbmodem21101 d83bda4d2beccb3f 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 6/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit
/dev/cu.usbmodem21101 d83bda4d2beccb3f 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 7/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit
/dev/cu.usbmodem21101 d83bda4d2beccb3f 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 8/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit
/dev/cu.usbmodem21101 d83bda4d2beccb3f 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 9/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit
/dev/cu.usbmodem21101 d83bda4d2beccb3f 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 10/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit
/dev/cu.usbmodem21101 d83bda4d2beccb3f 303a:0420 AVS MCT

===================
REPL port not detected automatically; script will still attempt mpremote without explicit port.
Firmware flashed successfully.
Checking MicroPython REPL access…
=== Check REPL ===
Command: mpremote exec "print('OK')"
Output:
b''
Traceback (most recent call last):
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/bin/mpremote", line 8, in <module>
    sys.exit(main())
             ~~~~^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/mpremote/main.py", line 569, in main
    handler_func(state, args)
    ~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/mpremote/commands.py", line 448, in do_exec
    _do_execbuffer(state, args.expr[0], args.follow)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/mpremote/commands.py", line 431, in _do_execbuffer
    state.ensure_raw_repl()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/mpremote/main.py", line 511, in ensure_raw_repl
    self.transport.enter_raw_repl(soft_reset=soft_reset)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/danielmcshan/GitHub/MCT/venv_ble/lib/python3.13/site-packages/mpremote/transport_serial.py", line 159, in enter_raw_repl
    raise TransportError("could not enter raw repl")
mpremote.transport.TransportError: could not enter raw repl

===================
============================================================
DEVICE MUST BE IN BOOTLOADER MODE!
============================================================
This script requires the device to be in bootloader mode.
We need to see: 303a:1001 Espressif USB JTAG/serial debug unit

To put the device in bootloader mode:
1. Locate the BOOT and EN (or RST) buttons on your MCT device
2. Hold down the BOOT button and keep it pressed
3. While holding BOOT, press and release the EN (or RST) button
4. Release the BOOT button
5. The device should now show as 303a:1001 in bootloader mode

After putting the device in bootloader mode, run this script again.
You can verify bootloader mode with: mpremote devs
============================================================
