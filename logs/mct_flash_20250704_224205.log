Running load_mct.py
Installing required packages...
=== Install esptool ===
Command: pip install --upgrade esptool
Output:
Requirement already satisfied: esptool in ./venv_ble/lib/python3.13/site-packages (5.0.0)
Requirement already satisfied: bitstring!=4.2.0,>=3.1.6 in ./venv_ble/lib/python3.13/site-packages (from esptool) (4.3.1)
Requirement already satisfied: cryptography>=43.0.0 in ./venv_ble/lib/python3.13/site-packages (from esptool) (45.0.4)
Requirement already satisfied: pyserial>=3.3 in ./venv_ble/lib/python3.13/site-packages (from esptool) (3.5)
Requirement already satisfied: reedsolo<1.8,>=1.5.3 in ./venv_ble/lib/python3.13/site-packages (from esptool) (1.7.0)
Requirement already satisfied: PyYAML>=5.1 in ./venv_ble/lib/python3.13/site-packages (from esptool) (6.0.2)
Requirement already satisfied: intelhex in ./venv_ble/lib/python3.13/site-packages (from esptool) (2.3.0)
Requirement already satisfied: rich_click in ./venv_ble/lib/python3.13/site-packages (from esptool) (1.8.9)
Requirement already satisfied: click<8.2.0 in ./venv_ble/lib/python3.13/site-packages (from esptool) (8.1.8)
Requirement already satisfied: bitarray<4.0,>=3.0.0 in ./venv_ble/lib/python3.13/site-packages (from bitstring!=4.2.0,>=3.1.6->esptool) (3.4.3)
Requirement already satisfied: cffi>=1.14 in ./venv_ble/lib/python3.13/site-packages (from cryptography>=43.0.0->esptool) (1.17.1)
Requirement already satisfied: rich>=10.7 in ./venv_ble/lib/python3.13/site-packages (from rich_click->esptool) (14.0.0)
Requirement already satisfied: typing_extensions>=4 in ./venv_ble/lib/python3.13/site-packages (from rich_click->esptool) (4.14.0)
Requirement already satisfied: pycparser in ./venv_ble/lib/python3.13/site-packages (from cffi>=1.14->cryptography>=43.0.0->esptool) (2.22)
Requirement already satisfied: markdown-it-py>=2.2.0 in ./venv_ble/lib/python3.13/site-packages (from rich>=10.7->rich_click->esptool) (3.0.0)
Requirement already satisfied: pygments<3.0.0,>=2.13.0 in ./venv_ble/lib/python3.13/site-packages (from rich>=10.7->rich_click->esptool) (2.19.2)
Requirement already satisfied: mdurl~=0.1 in ./venv_ble/lib/python3.13/site-packages (from markdown-it-py>=2.2.0->rich>=10.7->rich_click->esptool) (0.1.2)

[notice] A new release of pip is available: 25.0.1 -> 25.1.1
[notice] To update, run: pip install --upgrade pip

===================
=== Install mpremote ===
Command: pip install mpremote
Output:
Requirement already satisfied: mpremote in ./venv_ble/lib/python3.13/site-packages (1.25.0)
Requirement already satisfied: pyserial>=3.3 in ./venv_ble/lib/python3.13/site-packages (from mpremote) (3.5)

[notice] A new release of pip is available: 25.0.1 -> 25.1.1
[notice] To update, run: pip install --upgrade pip

===================
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
mpremote devs output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

Found device in bootloader mode on port: /dev/cu.usbmodem1101
=== Get MAC Address ===
Command: esptool --port "/dev/cu.usbmodem1101" chip-id
Output:
esptool v5.0.0
Serial port /dev/cu.usbmodem1101:
Connecting.....
Detecting chip type... ESP32-S3
[1A[2K[1A[2K[1A[2KConnected to ESP32-S3 on /dev/cu.usbmodem1101:
Chip type:          ESP32-S3 (QFN56) (revision v0.2)
Features:           Wi-Fi, BT 5 (LE), Dual Core + LP Core, 240MHz, Embedded PSRAM 8MB (AP_3v3)
Crystal frequency:  40MHz
USB mode:           USB-Serial/JTAG
MAC:                d8:3b:da:4d:29:50

Uploading stub flasher...
Running stub flasher...
[1A[2K[1A[2KStub flasher running.

[0;33mWarning:[0m ESP32-S3 has no chip ID. Reading MAC address instead.
MAC:                d8:3b:da:4d:29:50

Hard resetting via RTS pin...

===================
Device MAC address: d8:3b:da:4d:29:50
Flashing firmware...
=== Erase Flash ===
Command: esptool --chip esp32s3 --port "/dev/cu.usbmodem1101" --baud 115200 --before default-reset --after watchdog-reset erase-flash
Output:
esptool v5.0.0
Serial port /dev/cu.usbmodem1101:
Connecting....
[1A[2K[1A[2KConnected to ESP32-S3 on /dev/cu.usbmodem1101:
Chip type:          ESP32-S3 (QFN56) (revision v0.2)
Features:           Wi-Fi, BT 5 (LE), Dual Core + LP Core, 240MHz, Embedded PSRAM 8MB (AP_3v3)
Crystal frequency:  40MHz
USB mode:           USB-Serial/JTAG
MAC:                d8:3b:da:4d:29:50

Uploading stub flasher...
Running stub flasher...
[1A[2K[1A[2KStub flasher running.

Erasing flash memory (this may take a while)...
[1A[2KFlash memory erased successfully in 2.5 seconds.

Hard resetting with a watchdog...

===================
Including filesystem.bin in flash
=== Write Flash ===
Command: esptool --chip esp32s3 --port "/dev/cu.usbmodem1101" --baud 115200 --before default_reset --after watchdog_reset write_flash -z 0x0 "/Users/danielmcshan/GitHub/MCT/mod/MCC/firmware/bootloader.bin" 0x8000 "/Users/danielmcshan/GitHub/MCT/mod/MCC/firmware/partition-table.bin" 0x20000 "/Users/danielmcshan/GitHub/MCT/mod/MCC/firmware/micropython.bin" 0x820000 "/Users/danielmcshan/GitHub/MCT/mod/MCC/firmware/filesystem.bin"
Output:
[0;33mWarning:[0m Deprecated: Choice 'default_reset' for option '--before' is deprecated. Use 'default-reset' instead.
[0;33mWarning:[0m Deprecated: Choice 'watchdog_reset' for option '--after' is deprecated. Use 'watchdog-reset' instead.
[0;33mWarning:[0m Deprecated: Command 'write_flash' is deprecated. Use 'write-flash' instead.
esptool v5.0.0
Serial port /dev/cu.usbmodem1101:
Connecting....
[1A[2K[1A[2KConnected to ESP32-S3 on /dev/cu.usbmodem1101:
Chip type:          ESP32-S3 (QFN56) (revision v0.2)
Features:           Wi-Fi, BT 5 (LE), Dual Core + LP Core, 240MHz, Embedded PSRAM 8MB (AP_3v3)
Crystal frequency:  40MHz
USB mode:           USB-Serial/JTAG
MAC:                d8:3b:da:4d:29:50

Uploading stub flasher...
Running stub flasher...
[1A[2K[1A[2KStub flasher running.

Configuring flash size...
Flash will be erased from 0x00000000 to 0x00004fff...
Flash will be erased from 0x00008000 to 0x00008fff...
Flash will be erased from 0x00020000 to 0x00280fff...
Flash will be erased from 0x00820000 to 0x00ffffff...
Compressed 19152 bytes to 12452...

[KWriting at 0x00000000 [                              ]   0.0% 0/12452 bytes... 
[KWriting at 0x00004ad0 [==============================] 100.0% 12452/12452 bytes... 
[1A[2K[1A[2KWrote 19152 bytes (12452 compressed) at 0x00000000 in 0.2 seconds (737.4 kbit/s).
Hash of data verified.
Compressed 3072 bytes to 139...

[KWriting at 0x00008000 [                              ]   0.0% 0/139 bytes... 
[KWriting at 0x00008c00 [==============================] 100.0% 139/139 bytes... 
[1A[2K[1A[2KWrote 3072 bytes (139 compressed) at 0x00008000 in 0.0 seconds (1083.9 kbit/s).
Hash of data verified.
Compressed 2493120 bytes to 1499072...

[KWriting at 0x00020000 [                              ]   0.0% 0/1499072 bytes... 
[KWriting at 0x0002a861 [                              ]   1.1% 16384/1499072 bytes... 
[KWriting at 0x000332fd [                              ]   2.2% 32768/1499072 bytes... 
[KWriting at 0x0003b006 [                              ]   3.3% 49152/1499072 bytes... 
[KWriting at 0x000407d9 [>                             ]   4.4% 65536/1499072 bytes... 
[KWriting at 0x0004968e [>                             ]   5.5% 81920/1499072 bytes... 
[KWriting at 0x00055f04 [>                             ]   6.6% 98304/1499072 bytes... 
[KWriting at 0x000620c6 [=>                            ]   7.7% 114688/1499072 bytes... 
[KWriting at 0x0006b089 [=>                            ]   8.7% 131072/1499072 bytes... 
[KWriting at 0x00070a5a [=>                            ]   9.8% 147456/1499072 bytes... 
[KWriting at 0x00077643 [==>                           ]  10.9% 163840/1499072 bytes... 
[KWriting at 0x0007d6a2 [==>                           ]  12.0% 180224/1499072 bytes... 
[KWriting at 0x00085234 [==>                           ]  13.1% 196608/1499072 bytes... 
[KWriting at 0x0008e146 [===>                          ]  14.2% 212992/1499072 bytes... 
[KWriting at 0x00097525 [===>                          ]  15.3% 229376/1499072 bytes... 
[KWriting at 0x000a17fa [===>                          ]  16.4% 245760/1499072 bytes... 
[KWriting at 0x000af270 [====>                         ]  17.5% 262144/1499072 bytes... 
[KWriting at 0x000b9410 [====>                         ]  18.6% 278528/1499072 bytes... 
[KWriting at 0x000c1eda [====>                         ]  19.7% 294912/1499072 bytes... 
[KWriting at 0x000ca37a [=====>                        ]  20.8% 311296/1499072 bytes... 
[KWriting at 0x000d68f6 [=====>                        ]  21.9% 327680/1499072 bytes... 
[KWriting at 0x000df48c [=====>                        ]  23.0% 344064/1499072 bytes... 
[KWriting at 0x000e78c8 [======>                       ]  24.0% 360448/1499072 bytes... 
[KWriting at 0x000ef313 [======>                       ]  25.1% 376832/1499072 bytes... 
[KWriting at 0x000f80ba [======>                       ]  26.2% 393216/1499072 bytes... 
[KWriting at 0x000fff71 [=======>                      ]  27.3% 409600/1499072 bytes... 
[KWriting at 0x001090c0 [=======>                      ]  28.4% 425984/1499072 bytes... 
[KWriting at 0x00110b38 [=======>                      ]  29.5% 442368/1499072 bytes... 
[KWriting at 0x0011a01f [========>                     ]  30.6% 458752/1499072 bytes... 
[KWriting at 0x00121fcc [========>                     ]  31.7% 475136/1499072 bytes... 
[KWriting at 0x0012a0e4 [========>                     ]  32.8% 491520/1499072 bytes... 
[KWriting at 0x00132026 [=========>                    ]  33.9% 507904/1499072 bytes... 
[KWriting at 0x00138b4e [=========>                    ]  35.0% 524288/1499072 bytes... 
[KWriting at 0x0013e5a2 [=========>                    ]  36.1% 540672/1499072 bytes... 
[KWriting at 0x0014383f [==========>                   ]  37.2% 557056/1499072 bytes... 
[KWriting at 0x00148dea [==========>                   ]  38.3% 573440/1499072 bytes... 
[KWriting at 0x0014e130 [==========>                   ]  39.3% 589824/1499072 bytes... 
[KWriting at 0x00153540 [===========>                  ]  40.4% 606208/1499072 bytes... 
[KWriting at 0x00158b2b [===========>                  ]  41.5% 622592/1499072 bytes... 
[KWriting at 0x0015e2bd [===========>                  ]  42.6% 638976/1499072 bytes... 
[KWriting at 0x0016355c [============>                 ]  43.7% 655360/1499072 bytes... 
[KWriting at 0x00168760 [============>                 ]  44.8% 671744/1499072 bytes... 
[KWriting at 0x0016db13 [============>                 ]  45.9% 688128/1499072 bytes... 
[KWriting at 0x00172df7 [=============>                ]  47.0% 704512/1499072 bytes... 
[KWriting at 0x00177f5a [=============>                ]  48.1% 720896/1499072 bytes... 
[KWriting at 0x0017ce50 [=============>                ]  49.2% 737280/1499072 bytes... 
[KWriting at 0x001820b5 [==============>               ]  50.3% 753664/1499072 bytes... 
[KWriting at 0x00188bf3 [==============>               ]  51.4% 770048/1499072 bytes... 
[KWriting at 0x0018e652 [==============>               ]  52.5% 786432/1499072 bytes... 
[KWriting at 0x001945f9 [===============>              ]  53.6% 802816/1499072 bytes... 
[KWriting at 0x00199c8f [===============>              ]  54.6% 819200/1499072 bytes... 
[KWriting at 0x0019ecc9 [===============>              ]  55.7% 835584/1499072 bytes... 
[KWriting at 0x001a48fa [================>             ]  56.8% 851968/1499072 bytes... 
[KWriting at 0x001aa9ed [================>             ]  57.9% 868352/1499072 bytes... 
[KWriting at 0x001b00d2 [================>             ]  59.0% 884736/1499072 bytes... 
[KWriting at 0x001b57b5 [=================>            ]  60.1% 901120/1499072 bytes... 
[KWriting at 0x001bb1de [=================>            ]  61.2% 917504/1499072 bytes... 
[KWriting at 0x001c0c8a [=================>            ]  62.3% 933888/1499072 bytes... 
[KWriting at 0x001c67df [==================>           ]  63.4% 950272/1499072 bytes... 
[KWriting at 0x001cbe5b [==================>           ]  64.5% 966656/1499072 bytes... 
[KWriting at 0x001d1d47 [==================>           ]  65.6% 983040/1499072 bytes... 
[KWriting at 0x001d7edf [===================>          ]  66.7% 999424/1499072 bytes... 
[KWriting at 0x001dd5ed [===================>          ]  67.8% 1015808/1499072 bytes... 
[KWriting at 0x001e2f20 [===================>          ]  68.9% 1032192/1499072 bytes... 
[KWriting at 0x001e8ce8 [===================>          ]  69.9% 1048576/1499072 bytes... 
[KWriting at 0x001ee733 [====================>         ]  71.0% 1064960/1499072 bytes... 
[KWriting at 0x001f3721 [====================>         ]  72.1% 1081344/1499072 bytes... 
[KWriting at 0x001f8b6c [====================>         ]  73.2% 1097728/1499072 bytes... 
[KWriting at 0x001fe078 [=====================>        ]  74.3% 1114112/1499072 bytes... 
[KWriting at 0x0020360b [=====================>        ]  75.4% 1130496/1499072 bytes... 
[KWriting at 0x00208a79 [=====================>        ]  76.5% 1146880/1499072 bytes... 
[KWriting at 0x0020df62 [======================>       ]  77.6% 1163264/1499072 bytes... 
[KWriting at 0x00212f18 [======================>       ]  78.7% 1179648/1499072 bytes... 
[KWriting at 0x002182fd [======================>       ]  79.8% 1196032/1499072 bytes... 
[KWriting at 0x0021d666 [=======================>      ]  80.9% 1212416/1499072 bytes... 
[KWriting at 0x002226ec [=======================>      ]  82.0% 1228800/1499072 bytes... 
[KWriting at 0x0022784b [=======================>      ]  83.1% 1245184/1499072 bytes... 
[KWriting at 0x0022ccd9 [========================>     ]  84.2% 1261568/1499072 bytes... 
[KWriting at 0x00232d76 [========================>     ]  85.2% 1277952/1499072 bytes... 
[KWriting at 0x00237e62 [========================>     ]  86.3% 1294336/1499072 bytes... 
[KWriting at 0x0023d09d [=========================>    ]  87.4% 1310720/1499072 bytes... 
[KWriting at 0x00242687 [=========================>    ]  88.5% 1327104/1499072 bytes... 
[KWriting at 0x00248180 [=========================>    ]  89.6% 1343488/1499072 bytes... 
[KWriting at 0x0024dc2b [==========================>   ]  90.7% 1359872/1499072 bytes... 
[KWriting at 0x0025385a [==========================>   ]  91.8% 1376256/1499072 bytes... 
[KWriting at 0x0025933f [==========================>   ]  92.9% 1392640/1499072 bytes... 
[KWriting at 0x0025e40c [===========================>  ]  94.0% 1409024/1499072 bytes... 
[KWriting at 0x0026683d [===========================>  ]  95.1% 1425408/1499072 bytes... 
[KWriting at 0x0026c2dd [===========================>  ]  96.2% 1441792/1499072 bytes... 
[KWriting at 0x00271597 [============================> ]  97.3% 1458176/1499072 bytes... 
[KWriting at 0x002774bc [============================> ]  98.4% 1474560/1499072 bytes... 
[KWriting at 0x0027d8be [============================> ]  99.5% 1490944/1499072 bytes... 
[KWriting at 0x00280ac0 [==============================] 100.0% 1499072/1499072 bytes... 
[1A[2K[1A[2KWrote 2493120 bytes (1499072 compressed) at 0x00020000 in 15.3 seconds (1305.0 kbit/s).
Hash of data verified.
Compressed 8257536 bytes to 769209...

[KWriting at 0x00820000 [                              ]   0.0% 0/769209 bytes... 
[KWriting at 0x008273cd [                              ]   2.1% 16384/769209 bytes... 
[KWriting at 0x0082cb7d [>                             ]   4.3% 32768/769209 bytes... 
[KWriting at 0x0083368c [>                             ]   6.4% 49152/769209 bytes... 
[KWriting at 0x0083bbf1 [=>                            ]   8.5% 65536/769209 bytes... 
[KWriting at 0x00840f81 [==>                           ]  10.6% 81920/769209 bytes... 
[KWriting at 0x0084c004 [==>                           ]  12.8% 98304/769209 bytes... 
[KWriting at 0x0085900b [===>                          ]  14.9% 114688/769209 bytes... 
[KWriting at 0x00862d77 [====>                         ]  17.0% 131072/769209 bytes... 
[KWriting at 0x0087000c [====>                         ]  19.2% 147456/769209 bytes... 
[KWriting at 0x0087b1f1 [=====>                        ]  21.3% 163840/769209 bytes... 
[KWriting at 0x0088505d [======>                       ]  23.4% 180224/769209 bytes... 
[KWriting at 0x0089488c [======>                       ]  25.6% 196608/769209 bytes... 
[KWriting at 0x008a0767 [=======>                      ]  27.7% 212992/769209 bytes... 
[KWriting at 0x008b0772 [=======>                      ]  29.8% 229376/769209 bytes... 
[KWriting at 0x008b8c52 [========>                     ]  31.9% 245760/769209 bytes... 
[KWriting at 0x008c382c [=========>                    ]  34.1% 262144/769209 bytes... 
[KWriting at 0x008d139d [=========>                    ]  36.2% 278528/769209 bytes... 
[KWriting at 0x008da55f [==========>                   ]  38.3% 294912/769209 bytes... 
[KWriting at 0x00e56784 [===========>                  ]  40.5% 311296/769209 bytes... 
[KWriting at 0x00e76159 [===========>                  ]  42.6% 327680/769209 bytes... 
[KWriting at 0x00e8e75b [============>                 ]  44.7% 344064/769209 bytes... 
[KWriting at 0x00eabc72 [=============>                ]  46.9% 360448/769209 bytes... 
[KWriting at 0x00ebe37e [=============>                ]  49.0% 376832/769209 bytes... 
[KWriting at 0x00ec9074 [==============>               ]  51.1% 393216/769209 bytes... 
[KWriting at 0x00ecf168 [==============>               ]  53.2% 409600/769209 bytes... 
[KWriting at 0x00ed44c1 [===============>              ]  55.4% 425984/769209 bytes... 
[KWriting at 0x00edb04b [================>             ]  57.5% 442368/769209 bytes... 
[KWriting at 0x00ee33a9 [================>             ]  59.6% 458752/769209 bytes... 
[KWriting at 0x00eea4c6 [=================>            ]  61.8% 475136/769209 bytes... 
[KWriting at 0x00ef5af7 [==================>           ]  63.9% 491520/769209 bytes... 
[KWriting at 0x00f01530 [==================>           ]  66.0% 507904/769209 bytes... 
[KWriting at 0x00f0f6e5 [===================>          ]  68.2% 524288/769209 bytes... 
[KWriting at 0x00f1a18f [====================>         ]  70.3% 540672/769209 bytes... 
[KWriting at 0x00f23c93 [====================>         ]  72.4% 557056/769209 bytes... 
[KWriting at 0x00f3083b [=====================>        ]  74.5% 573440/769209 bytes... 
[KWriting at 0x00f3d290 [======================>       ]  76.7% 589824/769209 bytes... 
[KWriting at 0x00f4d293 [======================>       ]  78.8% 606208/769209 bytes... 
[KWriting at 0x00f59071 [=======================>      ]  80.9% 622592/769209 bytes... 
[KWriting at 0x00f6159f [=======================>      ]  83.1% 638976/769209 bytes... 
[KWriting at 0x00f6e6df [========================>     ]  85.2% 655360/769209 bytes... 
[KWriting at 0x00f7a249 [=========================>    ]  87.3% 671744/769209 bytes... 
[KWriting at 0x00f8aa0d [=========================>    ]  89.5% 688128/769209 bytes... 
[KWriting at 0x00fa95f7 [==========================>   ]  91.6% 704512/769209 bytes... 
[KWriting at 0x00fc2273 [===========================>  ]  93.7% 720896/769209 bytes... 
[KWriting at 0x00fde943 [===========================>  ]  95.8% 737280/769209 bytes... 
[KWriting at 0x00ff4da1 [============================> ]  98.0% 753664/769209 bytes... 
[KWriting at 0x01000000 [==============================] 100.0% 769209/769209 bytes... 
[1A[2K[1A[2KWrote 8257536 bytes (769209 compressed) at 0x00820000 in 27.6 seconds (2396.0 kbit/s).
Hash of data verified.

Hard resetting with a watchdog...

===================
Waiting for device to boot into MicroPython...
=== Run flashed firmware ===
Command: esptool --chip esp32s3 --port "/dev/cu.usbmodem1101" run
Output:
esptool v5.0.0
Serial port /dev/cu.usbmodem1101:
[1;31m
A fatal error occurred: Could not open /dev/cu.usbmodem1101, the port is busy or doesn't exist.
([Errno 2] could not open port /dev/cu.usbmodem1101: [Errno 2] No such file or directory: '/dev/cu.usbmodem1101')

Hint: Check if the port is correct and ESP connected
[0m

===================
Waiting for REPL port (attempt 1/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 d83bda4d29500000 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 2/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 d83bda4d29500000 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 3/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None

===================
Waiting for REPL port (attempt 4/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None

===================
Waiting for REPL port (attempt 5/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None

===================
Waiting for REPL port (attempt 6/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 D8:3B:DA:4D:29:50 303a:1001 Espressif USB JTAG/serial debug unit

===================
Waiting for REPL port (attempt 7/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None

===================
Waiting for REPL port (attempt 8/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 d83bda4d29500000 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 9/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 d83bda4d29500000 303a:0420 AVS MCT

===================
Waiting for REPL port (attempt 10/10)…
=== Check Device Info ===
Command: mpremote devs
Output:
/dev/cu.Bluetooth-Incoming-Port None 0000:0000 None None
/dev/cu.debug-console None 0000:0000 None None
/dev/cu.usbmodem1101 d83bda4d29500000 303a:0420 AVS MCT

===================
REPL port not detected automatically; script will still attempt mpremote without explicit port.
Firmware flashed successfully.
Checking MicroPython REPL access…
=== Check REPL ===
Command: mpremote exec "print('OK')"
Output:
OK

===================
MicroPython REPL is accessible and working!
Setting NVS values on device…
=== Set NVS ===
Command: mpremote exec "import nvs; nvs.set_nvs('wifi.ssid', 'AVS')"
Output:

===================
=== Set NVS ===
Command: mpremote exec "import nvs; nvs.set_nvs('wifi.passwd', 'Advanced')"
Output:

===================
=== Set NVS ===
Command: mpremote exec "import nvs; nvs.set_nvs('serial.board', 'd83bda4d2950')"
Output:

===================
=== Set NVS ===
Command: mpremote exec "import nvs; nvs.set_nvs('serial.mfg', 'd83bda4d2950')"
Output:

===================
=== REGISTERING FLASH ===
FLASH payload:
{"uuid": "d83bda4d2950", "timestamp": "2025-07-05T04:43:59Z", "version": "c1c1e4e", "test_status": "flashed", "sn_mct": "d83bda4d2950", "sn_led": "d83bda4d2950", "mac_addr": "d8:3b:da:4d:29:50", "ota_0.upy": "b0bfac5", "ota_0.mct": "c1c1e4e"}
FLASH results recorded successfully
=== REGISTERING REPL TEST ===
REPL TEST payload:
{"uuid": "d83bda4d2950", "timestamp": "2025-07-05T04:44:03Z", "version": "c1c1e4e", "test_status": "test_repl", "mac_addr": "d8:3b:da:4d:29:50", "ota_0.upy": "b0bfac5", "ota_0.mct": "c1c1e4e"}
REPL TEST results recorded successfully
All steps completed successfully!
